<!--pages/appointmentHospital/appointment/appointment.wxml-->
<view class="container">
    <view class="select-city">
        <view class="title">
            <text>预约城市</text>
        </view>
        <view class="city">
            <!-- <view class="current-city">
                <image class="location_img" src="../../../images/accept_address.png"></image>
                <text>{{currentCity}}</text>
            </view> -->
            <!-- <view class="change-city" bindtap="switchCity"></view> -->
            <!-- <view class="change-city">
                <text class="iconfont icon-qiehuan"></text>
                <picker mode="region" bindchange="bindAreaChange" value="{{area}}">
                    <text>城市</text>
                </picker>
            </view> -->
        </view>
    </view>
    <view class="appoint-area">
        <view class="area-tips">
            <text wx:if="{{!selectedCity}}">当前地区:</text>
            <text wx:if="{{selectedCity}}">已选地区</text>
        </view>
        <view class="select-area">
            <view class="current-area">{{province+'-'+city+'-'+district}}</view>
            <view class="change-city">
                <text class="iconfont icon-qiehuan"></text>
                <picker mode="region" bindchange="bindAreaChange" value="{{area}}">
                    <text>城市</text>
                </picker>
            </view>
        </view>
    </view>
    <!-- <view class="hospital-list" bindtap="arrivalPlan" data-item="{{item}}" wx:for="{{hospitalList}}" wx:key="index">
        <view class="hospital-item">
            <view class="item-img">
                <image src="{{item.thumbPicUrl}}"></image>
            </view>
            <view class="item-info">
                <text>{{item.name}}</text>
                <text>{{item.address}}</text>
            </view>
        </view>
    </view> -->
</view>
<!-- 切换城市 -->
<van-popup z-index="{{5}}" safe-area-inset-top='{{true}}' show="{{ cityModel }}" position="right" bind:close="onCancel" custom-style="height: 100%;width:78%;margin-top:80rpx;">
    <view class="popup_con">
        <view class="pro_content">
            <view class="popup_item">
                <!-- 热门城市 -->
                <view class="hot_con">
                    <view class="type_name">热门城市</view>
                    <view class="name_com">
                        <block wx:for="{{hosCityList}}" wx:key="index">
                            <view class="popup_text  {{item.id==currentId?'active':'popup_text'}}" bindtap="selectedCity" data-cityid='{{item.id}}' data-item="{{item}}" data-type="1">{{item.name}}</view>
                        </block>
                    </view>
                </view>
                <view class="hot_con">
                    <view class="cwkt">预约地区</view>
                </view>

                <view class="item_type">
                    <block wx:for="{{cityList}}" wx:key="index">
                        <view class="{{item.city.length !=0 ? 'items' : ''}}">
                            <view class="type_name" wx:if="{{item.city.length !=0}}">{{item.provinceName}}</view>
                            <view class="name_com">
                                <block wx:for="{{item.city}}" wx:key="index" wx:for-item="i">
                                    <view class="popup_text {{i.id==currentIds?'actives':'popup_text'}}" data-item="{{i}}" data-type="2" bindtap="selectedCity">{{i.name}}</view>
                                </block>
                            </view>
                        </view>
                    </block>
                </view>
            </view>
        </view>
    </view>
</van-popup>
<!-- 日历 -->
<calendar bind:select="select" bind:toggleYearMonth="toggleYearMonth" defaultValue="{{currentDate}}" dateList="{{dateList}}" />
<!-- 底部 -->
<footer defaultValue="{{currentDate}}" hospitalId="{{hospitalItem.id}}" itemInfoId="{{itemInfoId}}" appointArea="{{province+'-'+city+'-'+district}}" surplusQuantity="{{surplusQuantity}}" />